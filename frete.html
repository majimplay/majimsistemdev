<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Manter o CSS existente e adicionar -->
    <style>
        /* Adicionar novos estilos */
        .frete-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            margin: 15px 0;
            background: white;
        }
        
        .confirmar-frete {
            background: #3498db !important;
            margin-top: 10px;
        }
        
        .confirmar-frete:hover {
            background: #2980b9 !important;
        }
        
        .selected-shipping {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Manter todo o conte√∫do existente -->

        <div id="result"></div>
        <div class="selected-shipping" id="selectedShipping">
            <h3>üöö Frete Selecionado:</h3>
            <p><strong>Empresa:</strong> <span id="selectedCompany"></span></p>
            <p><strong>M√©todo:</strong> <span id="selectedMethod"></span></p>
            <p><strong>Prazo:</strong> <span id="selectedDeadline"></span></p>
            <p><strong>Pre√ßo:</strong> R$ <span id="selectedPrice"></span></p>
        </div>
    </div>

    <script>
        // Modificar a fun√ß√£o exibirResultados
        function exibirResultados(servicos) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';
            
            if (!servicos?.length) {
                resultDiv.innerHTML = '<div class="result-card">Nenhuma op√ß√£o de frete dispon√≠vel</div>';
                return;
            }

            let html = '<h3>üöö Escolha a Op√ß√£o de Frete:</h3>';
            html += '<select class="frete-select" id="freteSelect">';
            
            servicos.forEach((servico, index) => {
                html += `
                    <option value="${index}" 
                        data-empresa="${servico.empresa}"
                        data-metodo="${servico.metodo}"
                        data-prazo="${servico.prazo}"
                        data-preco="${servico.preco}">
                        ${servico.empresa} - ${servico.metodo} (${servico.prazo} dias) - R$ ${servico.preco.replace('.', ',')}
                    </option>
                `;
            });
            
            html += '</select>';
            html += '<button class="confirmar-frete" onclick="confirmarFrete()">Confirmar Frete</button>';
            resultDiv.innerHTML = html;
        }

        // Adicionar nova fun√ß√£o para confirmar sele√ß√£o
        function confirmarFrete() {
            const select = document.getElementById('freteSelect');
            const selectedOption = select.options[select.selectedIndex];
            
            document.getElementById('selectedCompany').textContent = selectedOption.dataset.empresa;
            document.getElementById('selectedMethod').textContent = selectedOption.dataset.metodo;
            document.getElementById('selectedDeadline').textContent = selectedOption.dataset.prazo;
            document.getElementById('selectedPrice').textContent = selectedOption.dataset.preco.replace('.', ',');
            
            document.getElementById('selectedShipping').style.display = 'block';
            
            // Scroll para a sele√ß√£o
            document.getElementById('selectedShipping').scrollIntoView({
                behavior: 'smooth'
            });
            
            // Aqui voc√™ pode adicionar l√≥gica adicional como:
            // - Atualizar o total do pedido
            // - Salvar a sele√ß√£o no localStorage
            // - Enviar para o backend
        }
    </script>
</body>
</html>
